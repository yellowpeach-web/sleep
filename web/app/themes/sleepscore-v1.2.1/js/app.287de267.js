(function(e){function s(s){for(var i,r,o=s[0],l=s[1],c=s[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(s);while(p.length)p.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,s=0;s<n.length;s++){for(var t=n[s],i=!0,o=1;o<t.length;o++){var l=t[o];0!==a[l]&&(i=!1)}i&&(n.splice(s--,1),e=r(r.s=t[0]))}return e}var i={},a={app:0},n=[];function r(s){if(i[s])return i[s].exports;var t=i[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,s,t){r.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,s){if(1&s&&(e=r(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var i in e)r.d(t,i,function(s){return e[s]}.bind(null,i));return t},r.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(s,"a",s),s},r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=s,o=o.slice();for(var c=0;c<o.length;c++)s(o[c]);var d=l;n.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"56d7":function(e,s,t){"use strict";t.r(s);t("cadf"),t("551c"),t("f751"),t("097d");var i=t("2b0e"),a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"product-finder-app"}},[e.displayHome?t("div",{staticClass:"container",attrs:{id:"container-intro"}},[e._m(0),e._m(1),t("div",{staticClass:"text-center"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"btn-startquiz"},on:{click:e.startQuiz}},[e._v("Take the Quiz")])])]):e._e(),e.displayRedAlert?t("div",[t("div",{staticClass:"container"},[t("div",{staticClass:"row text-center"},[t("div",{staticClass:"col-12"},[t("b-alert",{attrs:{show:"",variant:"danger",id:"alert-try-again"}},[e._v("\n                  Something went wrong. Please click "),t("a",{staticClass:"link-try-again",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.tryAgain()}}},[e._v("here")]),e._v(" and try again.\n                  ")])],1)])])]):e._e(),e.displayLoading?t("div",[e._m(2)]):e._e(),e.displayScienceFact?t("div",[t("div",{staticClass:"container-fluid ribbon-top"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row text-center"},[t("div",{staticClass:"col-md-6 offset-md-3"},[t("img",{staticClass:"img-fluid img-fact",attrs:{src:"//media.sleepscore.com/images/product-finder/here_to_help.png"}}),t("h5",[e._v("We’re here to help.")]),e.displayHelpMessage1?t("div",{attrs:{id:"fact-fallasleepeasier"}},[e._m(3),t("br"),e._m(4)]):e._e(),e.displayHelpMessage2?t("div",{attrs:{id:"fact-wakingupless"}},[e._m(5),t("br"),e._m(6)]):e._e(),e.displayHelpMessage3?t("div",{attrs:{id:"fact-sleeplonger"}},[e._m(7),t("br"),e._m(8)]):e._e(),e.displayHelpMessage4?t("div",{attrs:{id:"fact-feelmoreenergy"}},[e._m(9),t("br"),e._m(10)]):e._e(),e.displayHelpMessage5?t("div",{attrs:{id:"fact-stopsnoring"}},[e._m(11),t("br"),e._m(12)]):e._e(),e.displayHelpMessage6?t("div",{attrs:{id:"fact-teethgrinding"}},[e._m(13),t("br"),e._m(14)]):e._e()])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("button",{staticClass:"btn float-left",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.prevStatic()}}},[e._v("‹ Back")]),t("button",{staticClass:"btn btn-secondary float-right btn-from-radios",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.nextDynamic()}}},[e._v("Next ›")])])])])])]):e._e(),e.processingResults?t("div",[e._m(15)]):e._e(),e.displayQuiz?t("div",[e.displayForm?t("div",[t("div",{staticClass:"container-fluid ribbon-top"},[t("div",{staticClass:"container"},[t("b-form",e._l(e.metaData,function(s,i){return t("div",{key:i},[t("div",{directives:[{name:"show",rawName:"v-show",value:s.questionId===e.displayQuestion,expression:"question.questionId === displayQuestion"}],attrs:{id:"question-"+s.questionId}},[t("h2",{staticClass:"text-center"},[e._v(e._s(s.text))]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},["mult"==s.type?t("div",{staticClass:"text-center"},[e._v("Select all that apply.")]):t("div",{staticClass:"text-center"},[e._v("Choose one.")])])]),t("br"),"mult"==s.type?t("div",{staticClass:"row align-items-center text-center form-group"},e._l(s.responses,function(i,a){return t("div",{key:a,staticClass:"col-lg-4 col-md-4 col-sm-6",class:{"offset-lg-2 offset-md-2":2===s.responses.length&&0===a}},[t("label",{staticClass:"card-input-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userResponseTempObject,expression:"userResponseTempObject"}],staticClass:"card-input-element",attrs:{type:"checkbox",id:"response-id-"+i.responseId},domProps:{value:{questionId:s.questionId,responseId:i.responseId},checked:Array.isArray(e.userResponseTempObject)?e._i(e.userResponseTempObject,{questionId:s.questionId,responseId:i.responseId})>-1:e.userResponseTempObject},on:{change:function(t){var a=e.userResponseTempObject,n=t.target,r=!!n.checked;if(Array.isArray(a)){var o={questionId:s.questionId,responseId:i.responseId},l=e._i(a,o);n.checked?l<0&&(e.userResponseTempObject=a.concat([o])):l>-1&&(e.userResponseTempObject=a.slice(0,l).concat(a.slice(l+1)))}else e.userResponseTempObject=r}}}),t("div",{staticClass:"card card-input"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"icon-productfinder"},[t("img",{staticClass:"img-default img-fluid",attrs:{src:i.defaultImage}}),t("img",{staticClass:"img-selected img-fluid",attrs:{src:i.selectedImage}})]),t("br"),t("span",{staticClass:"response-text"},[e._v(e._s(i.text))])])])])])}),0):t("div",{staticClass:"row align-items-center text-center form-group"},e._l(s.responses,function(i,a){return t("div",{key:a,staticClass:"col-lg-4 col-md-4 col-sm-6",class:{"offset-lg-2 offset-md-2":2===s.responses.length&&0===a}},[t("label",{staticClass:"card-input-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userResponseSelected,expression:"userResponseSelected"}],staticClass:"card-input-element",attrs:{type:"radio",id:"response-id-"+i.responseId},domProps:{value:{questionId:s.questionId,responseId:i.responseId},checked:e._q(e.userResponseSelected,{questionId:s.questionId,responseId:i.responseId})},on:{change:function(t){e.userResponseSelected={questionId:s.questionId,responseId:i.responseId}}}}),t("div",{staticClass:"card card-input"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"icon-productfinder"},[t("img",{staticClass:"img-default img-fluid",attrs:{src:i.defaultImage}}),t("img",{staticClass:"img-selected img-fluid",attrs:{src:i.selectedImage}})]),t("br"),t("span",{staticClass:"response-text"},[e._v(e._s(i.text))])])])])])}),0),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("button",{directives:[{name:"show",rawName:"v-show",value:1!==s.questionId,expression:"question.questionId !== 1"}],staticClass:"btn float-left",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.prevDynamic()}}},[e._v("‹ Back")]),"mult"==s.type?t("button",{staticClass:"btn btn-secondary float-right btn-from-checkboxes",attrs:{type:"button",disabled:0===e.userResponseTempObject.length},on:{click:function(s){return s.preventDefault(),e.nextDynamic()}}},[e._v("Next ›")]):t("button",{staticClass:"btn btn-secondary float-right btn-from-radios",attrs:{type:"button",disabled:0===e.userResponseSelected.length},on:{click:function(s){return s.preventDefault(),e.nextDynamic()}}},[e._v("Next ›")])])])])])}),0)],1)])]):e._e(),e.displayTop3Results?t("div",[t("div",{staticClass:"container-fluid",attrs:{id:"container-results-top3"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row text-center row-intro-results"},[t("div",{staticClass:"col-md-12"},[t("h1",{attrs:{id:"header-results-top3"}},[e._v("\n                              Your Top \n                              "),1===e.recommendedProducts.length?t("span",[e._v("Hand-Picked Product")]):e._e(),2===e.recommendedProducts.length?t("span",[e._v(" 2 Hand-Picked Products")]):e._e(),e.recommendedProducts.length>=3?t("span",[e._v("3 Hand-Picked Products")]):e._e()])])]),t("div",{staticClass:"row"},e._l(e.recommendedProducts.slice(0,3),function(s,i){return t("div",{key:i,staticClass:"col-lg-4 col-md-4 col-sm-6",class:{"offset-lg-2 offset-md-2":e.recommendedProducts.length<3&&0===i}},[t("div",{staticClass:"card card-results"},[t("div",{staticClass:"img-bg",style:{"background-image":"url("+s.images[0].url+")"}},[t("a",{staticClass:"img-product-link",attrs:{href:s.url,target:"_blank"}})]),t("div",{staticClass:"circle-match"},[t("span",{staticClass:"text-percent-number"},[e._v(e._s(e._f("percentage")(s.relevance)))]),t("span",{staticClass:"text-percent-description"},[e._v("match")])]),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[t("a",{staticClass:"link-product-title",attrs:{href:s.url,target:"_blank"}},[e._v(e._s(s.title))])]),t("p",{staticClass:"card-text"},[e._v(e._s(e._f("toCurrency")(s.variants[0].price)))]),t("a",{staticClass:"btn btn-primary btn-block btn-sleepscore",attrs:{href:s.url,target:"_blank"}},[e._v("See Details")])])])])}),0),e.recommendedProducts.length>3?t("div",{staticClass:"text-center"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"btn-see-all"},on:{click:function(s){return s.preventDefault(),e.showAllResults()}}},[e._v("See All Results")])]):e._e()])])]):e._e(),e.displayAllResults?t("div",[t("div",{staticClass:"container-fluid",attrs:{id:"container-results-all"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row row-intro-results"},[e._m(16),t("div",{staticClass:"col-lg-5 col-md-5 col-sm-12 text-right"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button",id:"btn-send-to-email"},on:{click:function(s){return s.preventDefault(),e.showModal()}}},[e._v("Send to my email ›")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"btn-restartquiz"},on:{click:function(s){return s.preventDefault(),e.tryAgain()}}},[e._v("Restart Quiz?")])])]),t("div",{staticClass:"row"},e._l(e.recommendedProducts,function(s,i){return t("div",{key:i,staticClass:"col-lg-3 col-md-3"},[t("div",{staticClass:"card card-product"},[t("div",{staticClass:"img-bg",style:{"background-image":"url("+s.images[0].url+")"}},[t("a",{staticClass:"img-product-link",attrs:{href:s.url,target:"_blank"}})]),t("div",{staticClass:"circle-match"},[t("span",{staticClass:"text-percent-number"},[e._v(e._s(e._f("percentage")(s.relevance)))]),t("span",{staticClass:"text-percent-description"},[e._v("match")])]),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[t("a",{staticClass:"link-product-title",attrs:{href:s.url,target:"_blank"}},[e._v(e._s(s.title))])]),t("p",{staticClass:"card-text"},[e._v(e._s(e._f("toCurrency")(s.variants[0].price)))]),t("a",{staticClass:"btn btn-primary btn-block btn-sleepscore",attrs:{href:s.url,target:"_blank"}},[e._v("See Details")])])])])}),0)])])]):e._e(),t("b-modal",{ref:"my-modal",attrs:{"hide-header":"","hide-footer":""}},[t("div",{staticClass:"text-center"},[t("b-alert",{attrs:{show:e.displayEmailAlert,variant:"danger"}},[e._v("Please try again later.")]),t("h5",{staticClass:"modal-title",attrs:{id:"emailModalLabel"}},[e._v("Get your results delivered to your inbox.")]),t("p",[e._v("Get your expertly-selected products delivered straight to your inbox so you don’t lose your progress")])],1),t("form",{on:{submit:e.onSubmit}},[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",id:"input-email",required:"",placeholder:"What’s your email?"},domProps:{value:e.form.email},on:{input:function(s){s.target.composing||e.$set(e.form,"email",s.target.value)}}})]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.firstName,expression:"form.firstName"}],staticClass:"form-control",attrs:{type:"text",id:"input-fname",required:"",placeholder:"What’s your name?"},domProps:{value:e.form.firstName},on:{input:function(s){s.target.composing||e.$set(e.form,"firstName",s.target.value)}}})]),t("div",{staticClass:"form-group form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.isSubscribed,expression:"form.isSubscribed"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"input-subscribe"},domProps:{checked:Array.isArray(e.form.isSubscribed)?e._i(e.form.isSubscribed,null)>-1:e.form.isSubscribed},on:{change:function(s){var t=e.form.isSubscribed,i=s.target,a=!!i.checked;if(Array.isArray(t)){var n=null,r=e._i(t,n);i.checked?r<0&&e.$set(e.form,"isSubscribed",t.concat([n])):r>-1&&e.$set(e.form,"isSubscribed",t.slice(0,r).concat(t.slice(r+1)))}else e.$set(e.form,"isSubscribed",a)}}}),t("label",{staticClass:"form-check-label",attrs:{for:"exampleCheck1"}},[e._v("Send me updates on the latest sleep products and deals")])]),t("div",{staticClass:"row"},[e.displayEmailSuccess?e._e():t("div",{staticClass:"offset-md-2 col-md-8"},[t("div",{staticClass:"form-group text-center"},[t("button",{staticClass:"btn btn-primary btn-block",class:{disabled:!e.disableButton},attrs:{type:"submit",id:"btn-send-results"}},[e.sendingEmail?t("b-spinner",{staticClass:"btn-spinner",attrs:{small:"",type:"grow"}}):e._e(),e.sendingEmail?e._e():t("span",[e._v("Send my results")])],1),t("button",{staticClass:"btn btn-link btn-close-send",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.hideModal()}}},[e._v("\n                                  No, show my results\n                              ")])])]),e.displayEmailSuccess?t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-group text-center"},[t("b-alert",{attrs:{variant:"success",show:""}},[e._v("\n                                  Email to "+e._s(this.form.email)+" has been sent!\n                                  "),t("br"),e._v("\n                                  Please check your inbox.\n                              ")]),t("button",{staticClass:"btn btn-link btn-close-send",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.hideModal()}}},[e._v("\n                                  Close\n                              ")])],1)]):e._e()])])])],1):e._e()])])},n=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"text-center"},[t("h1",{attrs:{id:"header-product-finder"}},[e._v("SleepScore Product Finder")]),t("p",[e._v("Sleep better with products expertly selected for your unique sleep profile.")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row align-items-center text-center"},[t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4"},[t("img",{staticClass:"img-intro img-fluid",attrs:{src:"//media.sleepscore.com/images/product-finder/sleep-unique.png"}}),t("p",{staticClass:"caption-intro"},[e._v("Everyone’s sleep is extremely unique")])]),t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4"},[t("img",{staticClass:"img-intro img-fluid",attrs:{src:"//media.sleepscore.com/images/product-finder/answer-questions.png"}}),t("p",{staticClass:"caption-intro"},[e._v("Answer a few questions")])]),t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4"},[t("img",{staticClass:"img-intro img-fluid",attrs:{src:"//media.sleepscore.com/images/product-finder/list-of-products.png"}}),t("p",{staticClass:"caption-intro"},[e._v("Receive list of products chosen by sleep experts")])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-fluid ribbon-top"},[t("div",{staticClass:"row align-items-center text-center"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"text-center"},[t("div",{staticClass:"spinner-sleepscore spinner-border text-primary",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[e._v("Loading...")])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"fact"},[e._v("An estimated 26% of the US population reports having difficulty falling asleep."),t("sup",[e._v("1")]),e._v(" Don’t worry though! We’ve got just the right products to help you fall asleep with ease.")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-source container text-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"label-source"},[e._v("Sources:")]),t("ul",{staticClass:"list-source"},[t("li",[t("sub",[e._v("1 "),t("a",{attrs:{href:"//www.sleepfoundation.org/sites/default/files/inline-files/2008%20POLL%20SOF.PDF",target:"_blank"}},[e._v("2008 Sleep In America Poll: National Sleep Foundation.")])])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"fact"},[e._v("You’re not alone! Did you know 42% of the US population reports they have trouble with waking up too frequently at night?"),t("sup",[e._v("1")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-source container text-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"label-source"},[e._v("Sources:")]),t("ul",{staticClass:"list-source"},[t("li",[t("sub",[e._v("1 "),t("a",{attrs:{href:"//www.sleepfoundation.org/sites/default/files/inline-files/2008%20POLL%20SOF.PDF",target:"_blank"}},[e._v("2008 Sleep In America Poll: National Sleep Foundation.")])])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"fact"},[e._v("It’s estimated that 65% of the US population struggle with not getting enough sleep each night."),t("sup",[e._v("1")]),e._v(" Not to worry though! We’ve got just the right products to help you sleep longer so you feel great each day.")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-source container text-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"label-source"},[e._v("Sources:")]),t("ul",{staticClass:"list-source"},[t("li",[t("sub",[e._v("1 "),t("a",{attrs:{href:"//www.sleepfoundation.org/sites/default/files/inline-files/2008%20POLL%20SOF.PDF",target:"_blank"}},[e._v("2008 Sleep In America Poll: National Sleep Foundation.")])])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"fact"},[e._v("A lot of people have the same sleep goal! 49% of the US population report that they wake up feeling unrefreshed in the morning."),t("sup",[e._v("1")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-source container text-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"label-source"},[e._v("Sources:")]),t("ul",{staticClass:"list-source"},[t("li",[t("sub",[e._v("1 "),t("a",{attrs:{href:"//www.sleepfoundation.org/sites/default/files/inline-files/2008%20POLL%20SOF.PDF",target:"_blank"}},[e._v("2008 Sleep In America Poll: National Sleep Foundation.")])])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"fact"},[e._v("Snoring is more common than you think. An estimated 33% of the US population struggle with snoring."),t("sup",[e._v("2")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-source container text-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"label-source"},[e._v("Sources:")]),t("ul",{staticClass:"list-source"},[t("li",[t("sub",[e._v("2 Kryger M, Roth T, Dement W (ed.), Principles and Practice of Sleep Medicine (5th Edition), St. Louis: Elsevier")])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"fact"},[e._v("Around 8.6% of the general population suffer from teeth grinding, otherwise known as Sleep Bruxism."),t("sup",[e._v("3")]),e._v(" The SleepScore Store carries a variety of products to help with teeth grinding, all evaluated by sleep experts.")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-source container text-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"label-source"},[e._v("Sources:")]),t("ul",{staticClass:"list-source"},[t("li",[t("sub",[e._v("3 "),t("a",{attrs:{href:"//www.ncbi.nlm.nih.gov/pmc/articles/PMC5070759/",target:"_blank"}},[e._v("Sleep Bruxism-Tooth Grinding Prevalence, Characteristics and Familial Aggregation: A Large Cross-Sectional Survey and Polysomnographic Validation")])])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container-fluid ribbon-top"},[t("div",{staticClass:"row align-items-center text-center"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"text-center"},[t("h6",[e._v("Curating Products Just For You")]),t("div",{staticClass:"spinner-sleepscore spinner-border text-primary",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[e._v("Loading...")])])])])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"col-lg-7 col-md-7 col-sm-12"},[t("h1",[e._v("Recommended Products")])])}],r=(t("8615"),t("ac6a"),t("bc3a")),o=t.n(r),l={getProductQuestions:function(){return o.a.get("https://products-func-ssl.azurewebsites.net/api/finder/questions").then(function(e){return e.data})},postNextProductQuestion:function(e){return o.a.post("https://products-func-ssl.azurewebsites.net/api/finder/questions/next",e).then(function(e){return e.data})},getRecommendedProducts:function(e){return o.a.get("https://products-func-ssl.azurewebsites.net/api/finder/results/"+e).then(function(e){return e.data})},postEmail:function(e){return o.a.post("https://products-func-ssl.azurewebsites.net/api/finder/email",e).then(function(e){return e.data})}},c=t("f029"),d={name:"product-finder-app",data:function(){return{displayHome:!0,displayRedAlert:!1,displayEmailAlert:!1,displayEmailSuccess:!1,displayQuiz:!1,displayLoading:!1,displayPreviousQuestion:"",displayQuestion:1,displayScienceFact:!1,displayHelpMessage1:!1,displayHelpMessage2:!1,displayHelpMessage3:!1,displayHelpMessage4:!1,displayHelpMessage5:!1,displayHelpMessage6:!1,displayForm:!1,displayTop3Results:!1,displayAllResults:!1,processingResults:!1,metaData:null,userResponseTempObject:[],userResponseCheckbox:"",userResponseSelected:"",storedResponses:{userId:"",sessionId:"",responses:[]},user:{},uuid:c["b"].v1(),sessionId:"",form:{email:"",firstName:"",userId:"",sessionId:"",isSubscribed:!0,resultCode:""},recommendedProducts:[],sendingEmail:!1}},created:function(){var e={};e.UserId=this.uuid,this.$cookies.get("user")&&this.$cookies.get("user").UserId.length>0?(this.user.UserId=this.$cookies.get("user").UserId,this.storedResponses.userId=this.$cookies.get("user").UserId):(this.$cookies.set("user",e),this.user.UserId=this.$cookies.get("user").UserId,this.storedResponses.userId=this.$cookies.get("user").UserId)},computed:{disableButton:function(){return this.form.email.length>0&&this.form.firstName.length>0}},filters:{toCurrency:function(e){if(isNaN(parseFloat(e)))return e;var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return s.format(e)},percentage:function(e,s){return e||(e=0),s||(s=0),e*=100,e=Math.round(e*Math.pow(10,s))/Math.pow(10,s),e+="%",e}},methods:{scrollToTop:function(){window.scrollTo(0,0)},showModal:function(){this.$refs["my-modal"].show(),this.displayEmailAlert=!1},hideModal:function(){this.displayEmailAlert=!1,this.displayEmailSuccess=!1,this.$refs["my-modal"].hide()},startQuiz:function(){this.displayQuiz=!0,this.displayHome=!1,this.displayQuestion=1,this.getOntology(),this.generateSessionId()},generateSessionId:function(){this.sessionId=this.$uuid.v4(),this.storedResponses.sessionId=this.sessionId},tryAgain:function(){this.displayQuiz=!1,this.displayHome=!0,this.displayLoading=!1,this.displayRedAlert=!1,this.displayEmailAlert=!1,this.displayTop3Results=!1,this.displayAllResults=!1,this.userResponseTempObject=[],this.userResponseCheckbox="",this.userResponseSelected="",this.storedResponses={userId:this.$cookies.get("user").UserId,sessionId:"",responses:[]},this.recommendedProducts=[]},removeMarketingMessage:function(){this.displayScienceFact=!1,this.displayHelpMessage1=!1,this.displayHelpMessage2=!1,this.displayHelpMessage3=!1,this.displayHelpMessage4=!1,this.displayHelpMessage5=!1,this.displayHelpMessage6=!1},insertMarketingMessage:function(e){var s;if(s=e.responseId,1===e.questionId)switch(s){case 1:this.displayLoading=!1,this.displayScienceFact=!0,this.displayHelpMessage1=!0;break;case 2:this.displayLoading=!1,this.displayScienceFact=!0,this.displayHelpMessage2=!0;break;case 3:this.displayLoading=!1,this.displayScienceFact=!0,this.displayHelpMessage3=!0;break;case 4:this.displayLoading=!1,this.displayScienceFact=!0,this.displayHelpMessage4=!0;break;case 5:this.displayLoading=!1,this.displayScienceFact=!0,this.displayHelpMessage5=!0;break;case 6:this.displayLoading=!1,this.displayScienceFact=!0,this.displayHelpMessage6=!0;break}else this.displayLoading=!1},getOntology:function(){var e=this;this.displayLoading=!0,this.displayRedAlert=!1,l.getProductQuestions().then(function(s){e.metaData=s,e.displayLoading=!1,e.displayForm=!0}).catch(function(s){return e.displayRedAlert=!0,e.displayLoading=!1,s})},postOntology:function(){var e,s=this;if(this.displayLoading=!0,this.displayForm=!1,this.displayRedAlert=!1,1===this.userResponseSelected.questionId)e=!0,this.cleanPost(this.userResponseTempObject,e);else if(this.displayScienceFact){this.displayScienceFact=!1;var t=this.storedResponses;l.postNextProductQuestion(t).then(function(e){null===e.nextQuestionId?s.setProductResults(e.resultCode):(s.displayPreviousQuestion=s.displayQuestion,s.setNextForm(e.nextQuestionId))}).catch(function(e){s.setWarning(e)}).finally(function(){s.resetFormModel("radio"),s.resetFormModel("checkbox"),s.displayLoading=!1})}else e=!1,this.cleanPost(this.userResponseTempObject,e)},cleanPost:function(e,s){var t,i,a=this,n=e,r=s;if(r)if(n&&n.length>0){var o={},c=this;this.userResponseTempObject.forEach(function(e){t=e.questionId,i=e.responseId,o={questionId:t,responseId:i},c.addStoredResponse(o)}),l.postNextProductQuestion(this.storedResponses).then(function(e){null===e.nextQuestionId?(a.setProductResults(e.resultCode),a.form.resultCode=e.resultCode):(a.displayPreviousQuestion=a.displayQuestion,a.setNextForm(e.nextQuestionId))}).catch(function(e){a.setWarning(e)}).finally(function(){a.resetFormModel("checkbox"),a.displayLoading=!1})}else this.addStoredResponse(this.userResponseSelected),l.postNextProductQuestion(this.storedResponses).then(function(e){if(null===e.nextQuestionId)a.setProductResults(e.resultCode);else{a.displayPreviousQuestion=a.displayQuestion;var s=JSON.parse(JSON.stringify(a.storedResponses.responses)),t=s[0];a.insertMarketingMessage(t)}}).catch(function(e){a.setWarning(e)}).finally(function(){a.resetFormModel("radio"),a.displayLoading=!1});else if(n&&n.length>0){o={},c=this;this.userResponseTempObject.forEach(function(e){t=e.questionId,i=e.responseId,o={questionId:t,responseId:i},c.addStoredResponse(o)}),l.postNextProductQuestion(this.storedResponses).then(function(e){null===e.nextQuestionId?(a.setProductResults(e.resultCode),a.form.resultCode=e.resultCode):(a.displayPreviousQuestion=a.displayQuestion,a.setNextForm(e.nextQuestionId))}).catch(function(e){a.setWarning(e)}).finally(function(){a.resetFormModel("checkbox"),a.displayLoading=!1})}else this.addStoredResponse(this.userResponseSelected),l.postNextProductQuestion(this.storedResponses).then(function(e){null===e.nextQuestionId?a.setProductResults(e.resultCode):(a.displayPreviousQuestion=a.displayQuestion,a.setNextForm(e.nextQuestionId))}).catch(function(e){a.setWarning(e)}).finally(function(){a.resetFormModel("radio"),a.displayLoading=!1})},getProducts:function(e){var s=this;this.processingResults=!0,this.displayLoading=!1,this.displayForm=!1,this.displayRedAlert=!1,this.form.resultCode=e,l.getRecommendedProducts(e).then(function(e){s.recommendedProducts=e,s.displayTop3Results=!0,s.displayPreviousQuestion="",s.displayQuestion="",s.displayLoading=!1,s.displayForm=!1}).catch(function(e){return s.displayRedAlert=!0,s.displayLoading=!1,e}).finally(function(){s.showModal(),s.processingResults=!1})},resetFormModel:function(e){switch(e){case"checkbox":this.userResponseCheckbox="",this.userResponseTempObject=[];break;case"radio":this.userResponseSelected="";break}},setNextForm:function(e){this.displayQuestion=e,this.displayLoading=!1,this.displayForm=!0,this.removeMarketingMessage()},setPrevForm:function(e){var s,t,i,a,n=e.responses,r=!1,o=!1;function l(e){var s=Object.values(e.reduce(function(e,s){return e[s.questionId]?e[s.questionId].responses.push(s):e[s.questionId]={questionId:s.questionId,responses:[{responseId:s.responseId}]},e},{}));return s}var c=l(n),d=c.length;if(s=this.paginator(c,d,1),t=s.data,t.forEach(function(e){i=e.questionId}),this.metaData.forEach(function(e){if(e.questionId===i)switch(e.type){case"xor":a=t[0],r=!0;break;case"mult":a=t[0],o=!0;break}}),r){var u={};u.questionId=a.questionId,a.responses.forEach(function(e){u.responseId=e.responseId}),this.userResponseSelected=u}else if(o){var p=[],f=[];a.responses.forEach(function(e){var s={};s.questionId=a.questionId,s.responseId,s.responseId=e.responseId,f.push(s)}),p=f,this.userResponseTempObject=p}var m=JSON.parse(JSON.stringify(this.storedResponses.responses));m=m.filter(function(e){return e.questionId!==i}),this.storedResponses.responses=m,1===i&&(this.displayPreviousQuestion="",this.userResponseTempObject=[],this.storedResponses.responses=[]),2===i&&(this.displayPreviousQuestion=1),this.displayQuestion=i,this.displayForm=!0},paginator:function(e,s,t){s=s||1,t=t||1;var i=(s-1)*t,a=e.slice(i).slice(0,t),n=Math.ceil(e.length/t);return{page:s,per_page:t,pre_page:s-1?s-1:null,next_page:n>s?s+1:null,total:e.length,total_pages:n,data:a}},prevStatic:function(){this.setPrevForm(this.storedResponses),this.removeMarketingMessage(),this.scrollToTop()},prevDynamic:function(){if(2===this.displayQuestion){var e=this.storedResponses.responses,s=JSON.parse(JSON.stringify(e)),t=s[0];this.insertMarketingMessage(t),this.displayForm=!1}else this.setPrevForm(this.storedResponses);this.scrollToTop()},nextDynamic:function(){this.postOntology(),this.scrollToTop()},setProductResults:function(e){this.getProducts(e)},showAllResults:function(){this.displayAllResults=!0,this.displayTop3Results=!1,this.displayForm=!1},setWarning:function(e){return this.displayRedAlert=!0,this.displayLoading=!1,this.processingResults=!1,e},addStoredResponse:function(e){return this.storedResponses.responses.push(e),this.storedResponses},onSubmit:function(e){var s=this;e.preventDefault(),this.sendingEmail=!0,this.displayEmailAlert=!1,this.form.userId=this.storedResponses.userId,this.form.sessionId=this.storedResponses.sessionId,l.postEmail(this.form).then(function(e){s.displayEmailSuccess=!0}).catch(function(e){s.displayEmailAlert=!0,s.sendingEmail=!1,s.displayEmailSuccess=!1}).finally(function(){s.sendingEmail=!1})}}},u=d,p=(t("8398"),t("2877")),f=Object(p["a"])(u,a,n,!1,null,"6e54283f",null),m=f.exports,h=t("5f5b"),v=(t("f9e3"),t("2dd8"),t("c894")),g=t("2b27"),y=t.n(g);i["default"].config.productionTip=!1,i["default"].use(h["a"]),i["default"].use(v["a"]),i["default"].use(c["a"]),i["default"].use(y.a),y.a.config("365d"),i["default"].customElement("vue-widget",m)},"629f":function(e,s,t){},8398:function(e,s,t){"use strict";var i=t("629f"),a=t.n(i);a.a}});
//# sourceMappingURL=app.287de267.js.map